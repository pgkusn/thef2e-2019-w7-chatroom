(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fe8ffb9"],{"02f4":function(t,e,n){var a=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var r,c,s=String(i(e)),o=a(n),l=s.length;return o<0||o>=l?t?"":void 0:(r=s.charCodeAt(o),r<55296||r>56319||o+1===l||(c=s.charCodeAt(o+1))<56320||c>57343?t?s.charAt(o):r:t?s.slice(o,o+2):c-56320+(r-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var a=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"0b86":function(t,e,n){t.exports=n.p+"img/camera.d7725b83.svg"},"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var a=n("2aba"),i=n("32e9"),r=n("79e5"),c=n("be13"),s=n("2b4c"),o=n("520a"),l=s("species"),u=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=s(t),d=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=d?!r((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!e})):void 0;if(!d||!g||"replace"===t&&!u||"split"===t&&!f){var h=/./[p],v=n(c,p,""[t],(function(t,e,n,a,i){return e.exec===o?d&&!i?{done:!0,value:h.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}})),m=v[0],b=v[1];a(String.prototype,t,m),i(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var a=n("aae3"),i=n("cb7c"),r=n("ebd6"),c=n("0390"),s=n("9def"),o=n("5f1b"),l=n("520a"),u=n("79e5"),f=Math.min,p=[].push,d="split",g="length",h="lastIndex",v=4294967295,m=!u((function(){RegExp(v,"y")}));n("214f")("split",2,(function(t,e,n,u){var b;return b="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[g]||2!="ab"[d](/(?:ab)*/)[g]||4!="."[d](/(.?)(.?)/)[g]||"."[d](/()()/)[g]>1||""[d](/.?/)[g]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!a(t))return n.call(i,t,e);var r,c,s,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?v:e>>>0,m=new RegExp(t.source,u+"g");while(r=l.call(m,i)){if(c=m[h],c>f&&(o.push(i.slice(f,r.index)),r[g]>1&&r.index<i[g]&&p.apply(o,r.slice(1)),s=r[0][g],f=c,o[g]>=d))break;m[h]===r.index&&m[h]++}return f===i[g]?!s&&m.test("")||o.push(""):o.push(i.slice(f)),o[g]>d?o.slice(0,d):o}:"0"[d](void 0,0)[g]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,a){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i,a):b.call(String(i),n,a)},function(t,e){var a=u(b,t,this,e,b!==n);if(a.done)return a.value;var l=i(t),p=String(this),d=r(l,RegExp),g=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),x=new d(m?l:"^(?:"+l.source+")",h),y=void 0===e?v:e>>>0;if(0===y)return[];if(0===p.length)return null===o(x,p)?[p]:[];var w=0,C=0,_=[];while(C<p.length){x.lastIndex=m?C:0;var E,I=o(x,m?p:p.slice(C));if(null===I||(E=f(s(x.lastIndex+(m?0:C)),p.length))===w)C=c(p,C,g);else{if(_.push(p.slice(w,C)),_.length===y)return _;for(var S=1;S<=I.length-1;S++)if(_.push(I[S]),_.length===y)return _;C=w=E}}return _.push(p.slice(w)),_}]}))},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3ab1":function(t,e,n){"use strict";n.r(e);var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"room"},[n("div",{staticClass:"top"},[n("router-link",{staticClass:"back",attrs:{to:{name:"landing"},replace:""}},[n("i",{staticClass:"material-icons"},[t._v("arrow_back")])]),n("h1",[t._v("CIAO")])],1),n("div",{ref:"content",staticClass:"content"},[n("ul",t._l(t.content,(function(e,a){return n("li",{key:a,class:{myself:e.id===t.id}},[n("span",{staticClass:"name"},[t._v(t._s(e.name))]),e.imgSrc?n("img",{staticClass:"content-img",attrs:{src:e.imgSrc}}):e.link?n("span",{staticClass:"content-text"},[n("a",{attrs:{href:e.link,target:"_blank"}},[t._v("檔案下載")])]):n("span",{staticClass:"content-text"},[t._v(t._s(e.text))])])})),0)]),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitHandler("")}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",placeholder:"Text Message"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("div",{staticClass:"formBtns"},[n("input",{attrs:{type:"submit",value:"Send",disabled:!t.text}}),t._m(0),t._m(1),t._m(2),n("input",{attrs:{type:"file",id:"file"},on:{change:t.changeHandler}}),n("input",{attrs:{type:"file",id:"camera",accept:"image/*",capture:"camera"},on:{change:t.changeHandler}})])]),n("transition",{attrs:{name:"slide-fade"}},[t.uploading?n("div",{staticClass:"cover"},[n("p",[t._v("上傳中")]),n("img",{staticClass:"loading",attrs:{src:"loading.svg",alt:""}})]):t._e()])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"file"}},[a("img",{attrs:{src:n("ed1a")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"camera"}},[a("img",{attrs:{src:n("0b86")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"file"}},[a("img",{attrs:{src:n("d163")}})])}],c=(n("28a5"),n("6b54"),n("7f7f"),{apiKey:"AIzaSyCFQrK8G78IGKJ0cwHYez1P3WSOQyDNA3c",authDomain:"test-abea4.firebaseapp.com",databaseURL:"https://test-abea4.firebaseio.com",projectId:"test-abea4",storageBucket:"test-abea4.appspot.com",messagingSenderId:"942650617694",appId:"1:942650617694:web:6d938b4bdd578ac8"}),s={data:function(){return{id:"",text:"",content:null,uploading:!1}},computed:{name:function(){return this.$store.state.name}},updated:function(){var t=this;this.$nextTick().then((function(){t.$refs.content.scrollTo(0,t.$refs.content.firstElementChild.scrollHeight)}))},methods:{submitHandler:function(t,e){a.push({id:this.id,name:this.name,text:this.text,imgSrc:e?t:"",link:e?"":t,time:(new Date).getTime()}),document.querySelector("#file").value="",this.text="",this.uploading=!1},getContent:function(){var t=this;0===firebase.apps.length&&firebase.initializeApp(c),a=firebase.database().ref("w7"),a.orderByChild("time").startAt(parseInt(this.id,10)).on("value",(function(e){t.content=e.val()}))},getId:function(){this.id=localStorage.getItem("chartId"),this.id||(this.id=(new Date).getTime().toString(),localStorage.setItem("chartId",this.id))},changeHandler:function(t){var e=this;this.uploading=!0;var n=t.target.files.item(0),a=firebase.storage(),i=(new Date).getTime(),r=n.name.split(".")[n.name.split(".").length-1],c=a.ref("w7").child("".concat(i,".").concat(r));c.put(n).then((function(t){var a="https://firebasestorage.googleapis.com/v0/b/test-abea4.appspot.com/o/w7%2F".concat(i,".").concat(r,"?alt=media&token=79cc4e34-de8d-4caf-8aa1-5fc544b9b9d4");if("image"===n.type.split("/")[0]){var c=new Image;c.onload=function(){return e.submitHandler(a,!0)},c.src=a}else e.submitHandler(a)}))}},created:function(){this.getId(),this.getContent()}},o=s,l=(n("bce6"),n("2877")),u=Object(l["a"])(o,i,r,!1,null,"5799e2c2",null);e["default"]=u.exports},"520a":function(t,e,n){"use strict";var a=n("0bfb"),i=RegExp.prototype.exec,r=String.prototype.replace,c=i,s="lastIndex",o=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=o||l;u&&(c=function(t){var e,n,c,u,f=this;return l&&(n=new RegExp("^"+f.source+"$(?!\\s)",a.call(f))),o&&(e=f[s]),c=i.call(f,t),o&&c&&(f[s]=f.global?c.index+c[0].length:e),l&&c&&c.length>1&&r.call(c[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c}),t.exports=c},"5f1b":function(t,e,n){"use strict";var a=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),r=n("9e1e"),c="toString",s=/./[c],o=function(t){n("2aba")(RegExp.prototype,c,t,!0)};n("79e5")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?o((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?i.call(t):void 0)})):s.name!=c&&o((function(){return s.call(this)}))},aae3:function(t,e,n){var a=n("d3f4"),i=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},ad1e:function(t,e,n){},b0c5:function(t,e,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},bce6:function(t,e,n){"use strict";n("ad1e")},d163:function(t,e,n){t.exports=n.p+"img/attachment.ddb7a2d2.svg"},ed1a:function(t,e,n){t.exports=n.p+"img/picture.ded90355.svg"}}]);
//# sourceMappingURL=chunk-5fe8ffb9.fd93e11c.js.map